  :root{
    --bg: linear-gradient(135deg,rgb(226, 10, 154),rgba(0, 0, 255, 0.696));
    --panel: rgba(255,255,255,0.92);
    --text:#0b2b4a;
    --muted:#5b6b7a;
    --accent: linear-gradient(90deg,#6dd3ff,#8c9eff);
    --cell-bg: rgba(255,255,255,0.6);
    --win-color: #ffd166;
    --glass: rgba(255,255,255,0.6);
  }
  [data-theme="dark"]{
    --bg: linear-gradient(135deg,#0b1020,#082434);
    --panel: rgba(6,10,18,0.8);
    --text:#eaffe6;
    --muted:#9fb4cf;
    --accent: linear-gradient(90deg,#4fc3f7,#7a8cff);
    --cell-bg: rgba(255,255,255,0.03);
    --win-color:#2dd4bf;
    --glass: rgba(255,255,255,0.03);
  }



  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial; -webkit-font-smoothing:antialiased;}
  body{
    display:flex;align-items:center;justify-content:center;padding:20px;
    background:var(--bg); color:var(--text);
  }




  .app{width:100%;max-width:980px;display:grid;grid-template-columns:1fr 380px;gap:18px;align-items:start}
  .panel{background:var(--panel);border-radius:14px;padding:14px;box-shadow:0 8px 28px rgba(2,6,23,0.08);backdrop-filter: blur(6px);}
  header.app-head{grid-column:1/-1;display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:6px}
  .title{display:flex;gap:12px;align-items:center}
  .logo{width:56px;height:56px;border-radius:10px;background:var(--accent);display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:20px}
  h1{font-size:20px;margin:0}
  p.lead{margin:0;font-size:13px;color:var(--muted)}

  .board-wrap{display:flex;flex-direction:column;gap:10px}
  .status{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:10px;background:var(--glass)}
  .turn{font-weight:700}
  .controls{display:flex;gap:8px;align-items:center}

  .board {
    position:relative;
    display:grid;grid-template-columns:repeat(3,1fr);gap:10px;padding:10px;border-radius:12px;
    background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.02));
  }

  .cell{
    aspect-ratio:1/1;display:flex;align-items:center;justify-content:center;border-radius:10px;cursor:pointer;
    font-size:calc(28px + 2.5vmin);font-weight:900; user-select:none;
    background:var(--cell-bg); box-shadow:0 6px 14px rgba(2,6,23,0.05), inset 0 -6px 12px rgba(255,255,255,0.03);
    transition:transform .12s ease, background .15s;
  }
  .cell:active{transform:scale(.98)}
  .cell.empty:hover{transform:translateY(-6px) scale(1.03)}
  .cell .mark{opacity:0;transform:scale(.6);transition:all .22s;}
  .cell.filled .mark{opacity:1;transform:scale(1)}
  .cell.win{animation:winPulse 900ms ease-in-out infinite alternate;background:linear-gradient(90deg, rgba(255,209,102,0.12), rgba(255,255,255,0.02));}
  @keyframes winPulse{from{transform:translateY(-3px) scale(1.02)}to{transform:translateY(0) scale(1)}}

  /* SVG overlay used for animated winner line */
  .svg-overlay{pointer-events:none;position:absolute;inset:0;overflow:visible}
  svg#win-line{width:100%;height:100%;overflow:visible}

  .controls button, .btn{border:0;padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:700;background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(0,0,0,0.02));color:var(--text)}
  .btn.primary{background:var(--accent);color:white}
  .small{font-size:13px;padding:6px ;}
  .muted{color:var(--muted);font-size:13px}

  .sidebar{display:flex;flex-direction:column;gap:12px}
  .group{display:flex;flex-direction:column;gap:8px}
  .scoreboard{display:grid;grid-template-columns:1fr 1fr;gap:8px}
  .score-card{padding:12px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.02));display:flex;flex-direction:column;align-items:center}
  .score-card strong{font-size:20px}

  /* Winner banner + confetti */
  .winner-banner{
    position:fixed;left:50%;transform:translateX(-50%);top:36px;z-index:9999;
    padding:14px 20px;border-radius:12px;background:linear-gradient(90deg,#ffd166,#ff7eb6);color:#071024;font-weight:800;box-shadow:0 12px 40px rgba(12,30,60,0.18);
    display:flex;gap:12px;align-items:center;opacity:0;pointer-events:none;transform-origin:top center;
  }
  .winner-banner.show{opacity:1;pointer-events:auto;animation:bannerPop .36s cubic-bezier(.2,.9,.3,1)}
  @keyframes bannerPop{from{transform:translateX(-50%) scale(.86)}to{transform:translateX(-50%) scale(1)}}

  /* confetti pieces */
  .confetti-piece{position:fixed;z-index:998;pointer-events:none;will-change:transform,opacity}
  .confetti-piece span{display:block;width:10px;height:16px;border-radius:2px;transform:rotate(12deg)}

  /* History modal */
  .history-panel{display:flex;flex-direction:column;gap:8px;max-height:300px;overflow:auto;padding:6px}
  .history-item{display:flex;justify-content:space-between;padding:8px;border-radius:8px;background:rgba(0,0,0,0.02);font-size:13px}

  footer.note{font-size:12px;color:var(--muted);text-align:center;margin-top:8px}

  @media (max-width:880px){
    .app{grid-template-columns:1fr;padding:10px}
    header.app-head{flex-direction:column;align-items:flex-start}
  }

/* ---------- Dark Mode Enhancements ---------- */
[data-theme="dark"] h1,
[data-theme="dark"] p,
[data-theme="dark"] .muted,
[data-theme="dark"] .score-card strong,
[data-theme="dark"] .history-item,
[data-theme="dark"] .turn {
  color: #ffffff !important; /* ensure all text is visible */
}

[data-theme="dark"] .winner-banner { color: #fff; }
[data-theme="dark"] .btn { color: #fff; }
[data-theme="dark"] .muted { color: #cfd4e0; }

/* X and O marks color in dark mode */
[data-theme="dark"] .cell.filled .mark {
  color: #ffffff !important;
}

/* Winner line in dark mode */
[data-theme="dark"] svg#win-line path {
  stroke: #ffffff !important; /* white line for visibility */
}

/* Sidebar enhancements for dark mode */
[data-theme="dark"] .scoreboard,
[data-theme="dark"] .score-card,
[data-theme="dark"] .group,
[data-theme="dark"] .history-panel,
[data-theme="dark"] .history-item,
[data-theme="dark"] .label,
[data-theme="dark"] #modeLabel {
  color: #ffffff !important;
}

/* Quick Action buttons */
[data-theme="dark"] #newGame,
[data-theme="dark"] #historyBtn,
[data-theme="dark"] #clearHistory {
  color: #ffffff !important;
}

